{
  "Z_PAttachmentAdd": {
    "discriminator": {
      "propertyName": "type"
    },
    "properties": {
      "type": {
        "type": "string"
      }
    },
    "required": [
      "type"
    ]
  },
  "Z_PAttachmentAddFile": {
    "allOf": [
      {
        "$ref": "#/components/schemas/Z_PAttachmentAdd"
      },
      {
        "type": "object",
        "properties": {
          "url": {
            "type": "string"
          },
          "size": {
            "type": "integer",
            "format": "int32",
            "writeOnly": true
          }
        }
      }
    ]
  },
  "Z_PAttachmentAddImage": {
    "allOf": [
      {
        "$ref": "#/components/schemas/Z_PAttachmentAdd"
      },
      {
        "type": "object",
        "properties": {
          "url": {
            "type": "string"
          }
        }
      }
    ]
  },
  "Z_PAttachmentNew": {
    "allOf": [
      {
        "$ref": "#/components/schemas/Z_PAttachmentNoo"
      },
      {
        "type": "object",
        "properties": {
          "content": {
            "oneOf": [
              {
                "$ref": "#/components/schemas/Z_PAttachmentAddFile"
              },
              {
                "$ref": "#/components/schemas/Z_PAttachmentAddImage"
              }
            ]
          }
        }
      }
    ]
  },
  "Z_PAttachmentNoo": {
    "type": "object",
    "discriminator": {
      "propertyName": "type"
    },
    "properties": {
      "type": {
        "type": "string"
      }
    }
  },
  "Z_PAttachmentOld": {
    "allOf": [
      {
        "$ref": "#/components/schemas/Z_PAttachmentNoo"
      },
      {
        "type": "object",
        "properties": {
          "originalOrder": {
            "type": "integer",
            "format": "int32"
          }
        }
      }
    ]
  },
  "Z_PostEdit": {
    "type": "object",
    "properties": {
      "content": {
        "type": "string"
      },
      "attachments": {
        "type": "array",
        "items": {
          "oneOf": [
            {
              "$ref": "#/components/schemas/Z_PAttachmentNew"
            },
            {
              "$ref": "#/components/schemas/Z_PAttachmentOld"
            }
          ]
        }
      }
    }
  },
  "PAuthor": {
    "type": "object",
    "properties": {
      "id": {
        "type": "integer",
        "format": "int64"
      },
      "nick": {
        "type": "string"
      },
      "propic": {
        "type": "string"
      }
    }
  },
  "Y_PAttachment": {
    "type": "object",
    "properties": {
      "id": {
        "type": "integer",
        "format": "int64"
      },
      "type": {
        "type": "string"
      },
      "order": {
        "type": "integer",
        "format": "int32"
      }
    }
  },
  "Y_PostDetail": {
    "type": "object",
    "properties": {
      "id": {
        "type": "integer",
        "format": "int64"
      },
      "content": {
        "type": "string"
      },
      "attachments": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/Y_PAttachment"
        }
      },
      "author": {
        "$ref": "#/components/schemas/PAuthor"
      },
      "createdAt": {
        "type": "string",
        "format": "date-time"
      }
    }
  },
  "ReqBody_apiPostAdd": {
    "type": "object",
    "properties": {
      "content": {
        "type": "string"
      },
      "attachments": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/Z_PAttachmentNew"
        }
      }
    }
  },
  "Z_MemberEdit": {
    "type": "object",
    "properties": {
      "nick": {
        "type": "string"
      },
      "email": {
        "type": "string",
        "pattern": "^[a-zA-Z0-9._%+-]+@(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,}$|^$"
      },
      "propic": {
        "type": "string"
      }
    }
  },
  "Y_MemberForMe": {
    "type": "object",
    "properties": {
      "email": {
        "type": "string"
      },
      "id": {
        "type": "integer",
        "format": "int64"
      },
      "nick": {
        "type": "string"
      },
      "propic": {
        "type": "string"
      }
    }
  },
  "ReqBody_MemberAddBasic": {
    "type": "object",
    "properties": {
      "member": {
        "$ref": "#/components/schemas/Z_MemberAdd"
      },
      "key": {
        "$ref": "#/components/schemas/Z_MKeyBasicAdd"
      }
    },
    "required": [
      "key",
      "member"
    ]
  },
  "Z_MKeyBasicAdd": {
    "type": "object",
    "properties": {
      "keyname": {
        "type": "string"
      },
      "password": {
        "type": "string"
      }
    },
    "required": [
      "keyname",
      "password"
    ]
  },
  "Z_MemberAdd": {
    "type": "object",
    "properties": {
      "nick": {
        "type": "string",
        "minLength": 1
      },
      "email": {
        "type": "string",
        "pattern": "^[a-zA-Z0-9._%+-]+@(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,}$"
      },
      "propic": {
        "type": "string"
      }
    },
    "required": [
      "nick"
    ]
  },
  "CursorPageY_PostListItem": {
    "type": "object",
    "properties": {
      "list": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/Y_PostListItem"
        }
      },
      "nextCursor": {
        "type": "integer",
        "format": "int64"
      },
      "size": {
        "type": "integer",
        "format": "int32"
      }
    }
  },
  "Y_PostListItem": {
    "type": "object",
    "properties": {
      "id": {
        "type": "integer",
        "format": "int64"
      },
      "content": {
        "type": "string"
      },
      "attachments": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/Y_PAttachment"
        }
      },
      "author": {
        "$ref": "#/components/schemas/PAuthor"
      },
      "createdAt": {
        "type": "string",
        "format": "date-time"
      }
    }
  },
  "Y_MemberForPublic": {
    "type": "object",
    "properties": {
      "id": {
        "type": "integer",
        "format": "int64"
      },
      "nick": {
        "type": "string"
      },
      "propic": {
        "type": "string"
      }
    }
  },
  "apiWhoamiRes": {
    "type": "object",
    "properties": {
      "type": {
        "type": "string"
      },
      "id": {
        "type": "integer",
        "format": "int64"
      },
      "nick": {
        "type": "string"
      },
      "propic": {
        "type": "string"
      }
    }
  }
}