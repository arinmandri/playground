
## Swagger UI

[/swagger-ui/index.html](http://localhost:3000/swagger-ui/index.html)

## 개요


## 디렉토리 구조

`main/java/`
- `xyz.arinmandri`
  - `util`: 유틸이니까; `playground`에 의존 안 하려고 아예 밖으로 뺌.
  - `playground`
    - `apps`
      - `a`: 서비스 공통 요소 모음
      - 서비스별
    - 프로젝트 설정




## 컨트롤러 계층

## API 경로 규칙...???

TODO


### ...

엔터티 수정시 값 없거나 null이면 해당 필드 수정 안 함.
빈문자열이면 그 필드를 null으로.
XXX 문자열 말고 수 같은 필드인데 nullable인 경우 있나?

파일 필드가 !로 시작하면 '업로드타입'이라 한다. 그 뒷부분은 로컬임시파일 id이다. 업로드 후 그 URL으로 고쳐적는다.



### Data Objects

API별 요청, 응답 형식을 표현하는 타입을 그 API 핸들러 메서드 바로 아래에 정의.(바로 찾아보기 편하다.)

## 서비스 계층

### Data Objects

서비스 계층에서 취급하는 데이터 타입: 언어와 프레임워크의 기본제공 타입들 외에는 엔터티 클래스만 사용.

서비스 계층으로 값을 전달하기 전 유효성 검증 한다. 서비스 계층에 들어온 값들은 이미 다 유효하다고 가정하고 추가로 유효성 검증을 하지 않는다.


## 보안

### JWT


## 페이징



## 파일

로컬파일에 저장했다가 이용. 로컬파일 안 만들고 바로 업로드도 가능하다고 알고 있지만; 전에 그렇게 했다가 '아 중간에 이 작업 추가하기'하면 뭔 작업이든 일단 로컬파일이 있어야 일이 안 복잡해지길래 이번엔 그냥 시작부터 로컬파일 만들고 시작함.

저기 그림 만들었는디.

S3 서버 있음.

* 임시파일생성 API 호출, 임시파일 id를 받는다.
* 파일을 가리키는 필드(예: 프로필사진)의 값으로 임시파일 id를 넣고 무슨 값 수정 API를 호출.
* 수정 API에서는 필드 값이 임시파일 id인 경우에는 그 임시파일을 찾아 업로드하고 얻은 URL으로 그 필드 값을 대체한다. DB에는 그 필드의 값으로 URL이 들어간다.
* 이제 그 대상을 조회하면 



## 예외 처리

TODO


## 로그

TODO


## 테스트

TODO



